<section class="w-3/4 mx-auto">

  <h1 class="text-green-600 text-xl font-meduim my-5">{{'login.login' | translate}}</h1>

  @if(errMsg()){
  <div class="p-4 mb-4 text-sm text-fg-danger-strong rounded-base bg-danger-soft" role="alert">
    <span class="font-medium">{{'login.dangerAlert' | translate}}</span> {{errMsg()}}
  </div>
  }

  <form [formGroup]="logInForm" (ngSubmit)="submitlogInForm()">

    <div class="mb-3">
      <label for="email" class="block mb-1 text-sm font-medium text-heading">{{'login.email' | translate}}</label>
      <input formControlName="email" type="email" id="email"
        class="bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-base focus:ring-green-600 focus:border-green-600 block w-full px-3 py-2.5 shadow-xs placeholder:text-body"
        placeholder="{{'login.emailPlaceholder' | translate}}" required />
      @if(logInForm.get('email')?.errors && logInForm.get('email')?.touched){
      <div class="p-1 text-sm text-fg-danger-strong rounded-base bg-danger-soft" role="alert">
        @if(logInForm.get('email')?.errors?.['required']){
        <p>{{'login.emailRequired' | translate}}</p>
        }
        @else if(logInForm.get('email')?.errors?.['email']){
        <p>{{'login.emailNotValid' | translate}}</p>
        }
      </div>
      }
    </div>

    <div class="mb-3">
      <label for="password" class="block mb-1 text-sm font-medium text-heading">{{'login.password' | translate}}</label>
      <input formControlName="password" type="password" id="password"
        class="bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-base focus:ring-green-600 focus:border-green-600 block w-full px-3 py-2.5 shadow-xs placeholder:text-body"
        placeholder="{{'login.passwordPlaceholder' | translate}}" required />
      @if(logInForm.get('password')?.errors && logInForm.get('password')?.touched){
      <div class="p-1 text-sm text-fg-danger-strong rounded-base bg-danger-soft" role="alert">
        @if(logInForm.get('password')?.errors?.['required']){
        <p>{{'login.passwordRequired' | translate}}</p>
        }
        @else if(logInForm.get('password')?.errors?.['pattern']){
        <p>{{'login.passwordNotValid' | translate}}</p>
        }
      </div>
      }
    </div>

    <div class="flex justify-between items-center">
      <a routerLink="/forgetpassword" class="text-blue-600 underline">{{'login.forgetPassword' | translate}}</a>

      <button [disabled]="logInForm.invalid" class="btn-main mb-5 block ">
        @if(isLoading()){
        <span><i class="fa-solid fa-spinner fa-spin"></i></span>
        }
        @else{
        <span>{{'login.login' | translate}}</span>
        }

      </button><!--(click)="submitlogInForm()" ms-auto -->
    </div>


  </form>

</section>